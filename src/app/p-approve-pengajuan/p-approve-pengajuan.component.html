<div>

    <!-- <div *ngIf="dialog_show">
        <app-c-ubah-status (closePopupEvent)="closePopUp()" [act_contract]="act_contract"></app-c-ubah-status>
    </div>
 -->

    <div class="flex flex-row items-center">
        <div class="rounded-full border border-gray-400 p-1 flex flex-row items-center">
            <input [(ngModel)]="q_search" placeholder="Search" class="p-2 bg-none rounded-full outline-none">
            
            <Button class="p-2 bg-[#252525] fill-white rounded-full text-white h-fit w-fit flex items-center" (click)="get_tableData()">
                <!-- <p>Search</p>
                <div class="mx-1"></div> -->
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 256 256">
                    <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                </svg>
            </Button>    
        </div>

        <div class="mx-1"></div>

        <Button class="p-1 h-full bg-[#252525] fill-white rounded-full text-white w-fit flex items-center" (click)="get_tableData()">
            <p class="ml-2 tracking-wide">Refresh</p>
            <div class="mx-1"></div>
            <svg class="p-[2px]" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 256 256">
                <path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"></path>
            </svg>
        </Button>    

        <div class="mx-3"></div>


    </div>

    <div class="my-4"></div>

    <div
        *ngIf="!fetching_tableData"
        class=" border rounded-md h-fit flex flex-col justify-between"
    >
        <table class=" w-full table-fixed divide-y divide-gray-200  rounded-t-md text-sm">

            <thead class="w-full  divide-y">
                <tr class="">
                    <th class="w-[30px] border-slate-500 font-medium pl-2 py-4">NO</th>
                    <th class="w-[80px] border-slate-500 font-medium pl-2 py-4">REQUEST ID</th>
                    <th class="w-[130px] border-slate-500 font-medium pl-2 py-4">CABANG</th>
                    <th class="w-[130px] border-slate-500 font-medium pl-2 py-4">KATEGORI REQUEST</th>
                    <th class="w-[40px]  border-slate-500 font-medium pl-2 py-4">STATUS</th>
                    <th class="w-[100px]  border-slate-500 font-medium pl-2 py-4">TANGGAL DIBUAT</th>
                    <th class="w-[60px] border-slate-500 font-medium pl-2 py-4">ACTION</th>                    
                </tr>
            </thead>

            <tbody class="border-separate pt-10 ">
                <tr *ngFor="let item of tableData; let i = index" class="h-8 flex-grow-0 odd:bg-gray-100 ">
                    <td class="px-2 text-center">{{i+1}}</td>
                    <td class="px-2 text-center">{{item.REQUEST_ID}}</td>
                    <td class="px-2 text-center py-4">{{item.cabang}}</td>
                    <td class="px-2 text-center">{{item.KATEGORI_REQUEST}}</td>
                    <td class="px-2 text-center">{{item.STATUS}}</td>
                    <td class="px-2 text-center py-2">{{give_date(item.CREATED_DATE)}}</td>
                    <td class="px-2 text-center py-2">
                        <button
                            (click)="go_to_detail(item.REQUEST_ID)" 
                            class="mx-2 rounded-full px-4 py-1 bg-[#242424] text-white"
                        >
                            Detail
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <div 
            *ngIf="tableData.length == 0"
            class="w-full flex items-center justify-center h-[420px]"
        >
            No Data
        </div>

        <!-- ============== PAGINATION ============== -->

        <div class="flex w-full flex-row justify-center items-center p-4 border-t-2 border-[#eee]">
            <button (click)="pgDown()" class="p-2 border border-gray-700 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#000000" viewBox="0 0 256 256">
                    <path
                        d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z">
                    </path>
                </svg>
            </button>

            <input type="number" class="text-xl font-medium mx-4 w-10 text-center " [value]="act_page" (keydown.enter)="onPageChangeEnter($event)">

            <button (click)="pgUp()" class="p-2 border border-gray-700 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#000000" viewBox="0 0 256 256">
                    <path
                        d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z">
                    </path>
                </svg>
            </button>
        </div>

    </div>

    <div
        *ngIf="fetching_tableData"
        class="w-full h-[560px] flex items-center justify-center"
    >
        <p>Fetching data...</p>
    </div>

    <!-- ============== MARGIN BOTTOM ============== -->

    <div class="my-20"></div>

</div>